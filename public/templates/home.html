<h1>Feeeeeed meeeee</h1>

<div class='row'>
  <div class='col-md-4'>
    <pre>
      Radius: {{radius}}
      Time: {{time}}
      Address: {{ address }}
    </pre>
  </div>

  <div class='col-md-4 text-left'>
    <div class="input-group">
      <span class="input-group-addon"><div class='glyphicon glyphicon-map-marker'/></span>
      <input 
        ng-model='address' 
        ng-change='getByAddress()'
        name='address' 
        type="text" 
        class="form-control" 
        autofocus
        placeholder="Zip, address">
    </div>

    <div class="input-group">
      <span class="input-group-addon"><div class='glyphicon glyphicon-time'/></span>
      <div class="btn-group" data-toggle="buttons">
        <button type="button" class="btn btn-default" ng-click='timeframe = "today"'>
          Today <span class="badge">{{ countToday }}</span>
        </button>
        <button type="button" class="btn btn-default" ng-click='timeframe = "tomorrow"'>
          Tomorrow <span class="badge">{{ countTomorrow }}</span>
        </button>
        <button type="button" class="btn btn-default" ng-click='timeframe = "later"'>
          Later <span class="badge">{{ countThisWeek }}</span>
        </button>
      </div>
    </div>

    <div class="input-group">
      <span class="input-group-addon"><div class='glyphicon glyphicon-hand-right'/></span>
      <div class="btn-group" data-toggle="buttons">
        <button type="button" class="btn btn-default" ng-click='radius = 1'>
          < 1 mi. <span class="badge">{{ countLT1 }}</span>
        </button>
        <button type="button" class="btn btn-default" ng-click='radius = 3'>
          < 3 mi. <span class="badge">{{ countLT3 }}</span>
        </button>
        <button type="button" class="btn btn-default" ng-click='radius = 5'>
          < 5 mi. <span class="badge">{{ countLT5 }}</span>
        </button>
      </div>
    </div>

    <div class="input-group">
      <span class="input-group-addon"><div class='glyphicon glyphicon-sort-by-attributes'/></span>
      <div class="btn-group" data-toggle="buttons">
        <button type="button" class="btn btn-default" ng-click='sortByTime = true; sortByDistance = false'>
          Time 
        </button>
        <button type="button" class="btn btn-default" ng-click='sortByDistance = true; sortByTime = false'>
          Distance 
        </button>
      </div>
    </div>



  </div>

  <div class='col-md-4'>
    <google-map center="map.center" zoom="map.zoom" style='height: 400px'></google-map>
  </div>

</div>

<div style="height:100px"></div>

<div class='panel panel-warning' ng-repeat="event in events | filter:filterByRadiusLT | filter:filterByTime">
  <!-- TITLE-BLOCK -->
  <div class="panel-heading">
    <div class='row'>        <!-- begin         -->
      <div class='col-md-1'> <!-- left          -->
        <span class="glyphicon glyphicon-calendar" > {{ event.timeFMT }} </span>
      </div>
      <div class='col-md-11'><!-- middle        --> 
        <a href="{{ event.url}}"><b>{{ event.name }}</b></a></b>
      </div>                 <!-- end           -->
    </div>
  </div>

  <!-- CONTENT-BLOCK -->
  <div class="panel-body">
    <div class='row'>        <!-- begin         -->
      <div class='col-md-1'> <!-- left          -->
        <!-- MAP FEE TO A SCALE OF {,$,$$,$$$} NG-REPEAT-->
        <span class='glyphicon glyphicon-usd'>
        <span class='glyphicon glyphicon-glass'>
      </div>
      <div class='col-md-1'>
        {{ event.fee }}
        
        {{ event.distance | number:1 }} mi.
        {{ event.foodProvided}}
      </div>
      <div class='col-md-7'> <!-- middle        --> 
        <p>{{ event.description}}</p>
      </div>
      <div class='col-md-3'> <!-- right         -->
        <address>
          <strong>{{ event.venue.name }}</strong><br/>
          {{ event.venue.address.address1 }}<br/>
          {{ event.venue.address.city }}<br/>
          <abbr title="Phone">P:</abbr>
        </address>
      </div>                 <!-- end-content   -->
    </div>
  </div>

  <!-- FOOTER-BLOCK -->
  <div class="panel-footer">
    <div class='row'>        <!-- begin         -->
      <div class='col-md-1'> <!-- left          -->
        <a class='glyphicon glyphicon-link' href="{{event.unique}}"/>
      </div>
      <div class='col-md-11'><!-- middle        --> 
        
      </div>
    </div>                   <!-- end           -->
  </div>
</div>
